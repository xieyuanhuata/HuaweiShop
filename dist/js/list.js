"use strict";$(function(){var c=1,o=!0,a=0,s=[];function r(){$.ajax({url:"/dm/mcp/queryPrd",data:{lang:"zh-CN",country:"CN",portal:"1",keyword:"36",pageSize:"20",pageNum:c,searchSortField:a,searchSortType:"desc",searchFlag:1,brandType:"0",tid:"2d82eff5edd04828bf1285b0a5be625b",screenParams:{}},dataType:"json"}).then(function(a){var n,t,i,e;!function(a){var n=a[0].itemEntryList,t="";n.forEach(function(a){t+='<li>\n                <a href="">'.concat(a.value,"</a>\n              </li>")}),$(".price-range_ul").html(t);var i=a[1].itemEntryList,e="";i.forEach(function(a){e+='<li>\n                <a href="">'.concat(a.value,"</a>\n              </li>")}),$(".screen-size_ul").html(e)}(a.labelList[0].labelContentList),n=a.resultList,t="",n.forEach(function(a){if(t+=" <li data-id = ".concat(a.productId,'>\n            <div class="list-grid-item">\n              <a href="javascript:void(0)">\n                <div class="p-img">\n                  <img\n                    src="https://res.vmallres.com/pimages/').concat(a.photoPath,"428_428_").concat(a.photoName,'"\n                    alt="">\n                </div>\n                <div class="p-name">').concat(a.briefName,'</div>\n                <div class="p-price clearfix">'),void 0===a.promoPrice?t+="<b>".concat(a.price,"</b>"):t+="<b>".concat(a.promoPrice,"</b>"),1<a.skuCount&&(t+="<span>多款可选</span>"),t+="</div>",0!==a.promoLabels.length){t+='<div class="p-label clearfix">';var n=a.promoLabels;n.forEach(function(a){t+="<span>".concat(a,"</span>")}),t+="</div>"}t+='<div class="p-comment">',0===a.rateCount?t+="<em>\n                    <span>暂无评价</span>\n                  </em>":t+="<em>\n                    <span>".concat(a.rateCount,"</span>人评价\n                  </em>\n                  <em>\n                    <span>").concat(a.goodRate,"%</span>好评\n                  </em>"),t+=" </div>",""!==a.displayTags&&void 0!==a.displayTags&&(t+='<div class="p-tag">\n                  <span>'.concat(a.displayTags,"</span>\n                </div>")),t+="\n              </a>\n            </div>\n          </li>"}),$("#list-item").html(t),o&&(i=a.totalCount,e=a.pageSize,o=!1,$(".pagination").pagination({totalData:i,current:1,showData:e,prevContent:"|<",nextContent:">|",mode:"fixed",callback:function(a){c=a.getCurrent(),r()}})),s=a.resultList})}r(),$(".classify_ul>li").on("click",function(){a=$(this).data("sort"),o=!0,c=1,r(),$(".classify_ul a").css("color","#333"),$(this).find("a").css("color","#cb242b")}),$("#list-item").on("click","li",function(){for(var a=$(this).data("id"),n={},t=0;t<s.length;t++)if(s[t].productId===a){n=s[t];break}localStorage.setItem("product_info",JSON.stringify(n)),window.location.href="../pages/detail.html"})});